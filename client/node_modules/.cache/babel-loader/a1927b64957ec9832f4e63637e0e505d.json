{"ast":null,"code":"import _classCallCheck from \"/home/tech/Downloads/newCode/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/tech/Downloads/newCode/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/tech/Downloads/newCode/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/tech/Downloads/newCode/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/tech/Downloads/newCode/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/tech/Downloads/newCode/src/components/payments/Payments.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { userPayments } from '../../actions/authAction';\nimport { withRouter } from 'react-router-dom';\nimport TextFieldGroup from '../common/TextFieldGroup';\nimport PayImage from '../../assets/image/btn_buynowCC_LG.gif';\nimport scriptLoader from 'react-async-script-loader';\n\nvar Payments =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Payments, _Component);\n\n  function Payments(props) {\n    var _this;\n\n    _classCallCheck(this, Payments);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Payments).call(this, props));\n    window.React = React;\n    window.ReactDOM = ReactDOM;\n    _this.state = {\n      showButton: false,\n      env: 'sandbox',\n      // Or 'sandbox'\n      client: {\n        sandbox: 'xxxxxxxxx',\n        // sandbox client ID\n        production: 'xxxxxxxxx' // production client ID\n\n      },\n      commit: true // Show a 'Pay Now' button\n\n    };\n    return _this;\n  }\n\n  _createClass(Payments, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props = this.props,\n          isScriptLoaded = _this$props.isScriptLoaded,\n          isScriptLoadSucceed = _this$props.isScriptLoadSucceed;\n\n      if (isScriptLoaded && isScriptLoadSucceed) {\n        this.setState({\n          showButton: true\n        });\n      }\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(_ref) {\n      var isScriptLoaded = _ref.isScriptLoaded,\n          isScriptLoadSucceed = _ref.isScriptLoadSucceed;\n\n      if (!this.state.show) {\n        if (isScriptLoaded && !this.props.isScriptLoaded) {\n          if (isScriptLoadSucceed) {\n            this.setState({\n              showButton: true\n            });\n          } else {\n            console.log('Cannot load Paypal script!');\n            this.props.onError();\n          }\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var payment = function payment() {\n        return paypal.rest.payment.create(_this2.props.env, _this2.props.client, {\n          transactions: [{\n            amount: {\n              total: _this2.props.total,\n              currency: _this2.props.currency\n            }\n          }]\n        });\n      };\n\n      var onAuthorize = function onAuthorize(data, actions) {\n        return actions.payment.execute().then(function () {\n          var payment = Object.assign({}, _this2.props.payment);\n          payment.paid = true;\n          payment.cancelled = false;\n          payment.payerID = data.payerID;\n          payment.paymentID = data.paymentID;\n          payment.paymentToken = data.paymentToken;\n          payment.returnUrl = data.returnUrl;\n\n          _this2.props.onSuccess(payment);\n        });\n      };\n\n      var ppbtn = '';\n\n      if (this.state.showButton) {\n        ppbtn = React.createElement(paypal.Button.react, {\n          env: this.state.env,\n          client: this.state.client,\n          payment: payment,\n          commit: true,\n          onAuthorize: onAuthorize,\n          onCancel: this.props.onCancel,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, ppbtn);\n    }\n  }]);\n\n  return Payments;\n}(Component);\n\nPaypalButton.propTypes = {\n  currency: PropTypes.string.isRequired,\n  total: PropTypes.number.isRequired,\n  client: PropTypes.object.isRequired\n};\nPaypalButton.defaultProps = {\n  env: 'sandbox',\n  onSuccess: function onSuccess(payment) {\n    console.log('The payment was succeeded!', payment);\n  },\n  onCancel: function onCancel(data) {\n    console.log('The payment was cancelled!', data);\n  },\n  onError: function onError(err) {\n    console.log('Error loading Paypal script!', err);\n  }\n}; //   constructor() {  \n//     super();\n//     this.state= {\n//       name: '',\n//     //   email: '',\n//     //   password: '',\n//     //   password2: '',  \n//     //   errors: {}\n//     };\n//     this.onChange = this.onChange.bind(this);\n//     this.onSubmit = this.onSubmit.bind(this);\n//   }\n//   componentWillReceiveProps(nextProps){\n//     if(nextProps.errors){\n//       this.setState({errors: nextProps.errors})\n//     }\n//   }\n//   onSubmit(e){\n//     e.preventDefault();\n//     const userPay = {\n//       name: this.state.name,      \n//     }; \n//     console.log(userPay); \n//     this.props.userPayments(userPay, this.props.history);\n//     }\n//   onChange(e){\n//     this.setState({ [e.target.name]: e.target.value});\n//   }\n//   render(){\n//     const { errors } = this.state;\n//     return (\n//       <div>\n//       <div className=\"container-fluid\">\n//           <div className=\"banner-section\">\n//               <div className=\"banner-title\">\n//                   <h1>Now, You can pay</h1>\n//               </div>\n//           </div>\n//       </div>\n//       <form>\n//       <TextFieldGroup\n//             placeholder=\"Name\"\n//             name=\"name\"\n//             type=\"name\"\n//             value={this.state.name}\n//             onChange={this.onChange}\n//             // error={errors.name}\n//             />\n//             <input type=\"submit\" className=\"btn btn-info\" />\n//       </form>\n//       </div>\n//     );\n//   }\n// } \n// Payments.propTypes = {\n//   userPayments: PropTypes.func.isRequired,\n//   auth: PropTypes.object.isRequired,\n//   errors: PropTypes.object.isRequired\n// };\n// const mapStateToProps = state => ({\n//   auth: state.auth,\n//   errors: state.errors\n// })\n\nexport default scriptLoader('https://www.paypalobjects.com/api/checkout.js')(Payments); // export default connect(mapStateToProps, {userPayments})(withRouter(Payments));\n// import React, { Component } from 'react';\n// import StripeCheckout from 'react-stripe-checkout';\n// import { userInfo } from 'os';\n// import { logoutUser } from '../../actions/authAction';\n// import { clearCurrentProfile } from '../../actions/profileActions';\n// import PayImage  from '../../assets/image/btn_buynowCC_LG.gif';\n// class Payments extends Component {\n//     render() {\n//         return(\n//             <div>\n//                 <form>\n//                     <div className=\"btn\"><img src={PayImage} alt=\"paypal payment method\" /></div>\n//                 </form>\n//             </div>\n//         //     <StripeCheckout\n//         //         name=\"Vivek\"\n//         //         description=\"You can pay now\"\n//         //         amount={500}\n//         //         token={token => console.log(token)}\n//         //         stripeKey={process.env.REACT_APP_STRIPE_KEY}\n//         //     >\n//         //    <a herf=\"/success\"> <div className=\"btn  btn-info mt-4\">Buy by Card</div> </a> \n//         //     </StripeCheckout>\n//         )\n//     }\n// }\n// export default Payments;","map":{"version":3,"sources":["/home/tech/Downloads/newCode/src/components/payments/Payments.js"],"names":["React","Component","PropTypes","connect","userPayments","withRouter","TextFieldGroup","PayImage","scriptLoader","Payments","props","window","ReactDOM","state","showButton","env","client","sandbox","production","commit","isScriptLoaded","isScriptLoadSucceed","setState","show","console","log","onError","payment","paypal","rest","create","transactions","amount","total","currency","onAuthorize","data","actions","execute","then","Object","assign","paid","cancelled","payerID","paymentID","paymentToken","returnUrl","onSuccess","ppbtn","onCancel","PaypalButton","propTypes","string","isRequired","number","object","defaultProps","err"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { userPayments } from '../../actions/authAction';  \nimport { withRouter } from 'react-router-dom';\nimport TextFieldGroup from '../common/TextFieldGroup';\nimport PayImage  from '../../assets/image/btn_buynowCC_LG.gif';\nimport scriptLoader from 'react-async-script-loader';\n\nclass Payments extends Component {\n  constructor(props) {\n    super(props);\n    window.React = React;\n    window.ReactDOM = ReactDOM;\n    this.state = {\n      showButton: false,\n      env: 'sandbox', // Or 'sandbox'\n      client: {\n        sandbox:    'xxxxxxxxx', // sandbox client ID\n        production: 'xxxxxxxxx' // production client ID\n      },\n      commit: true, // Show a 'Pay Now' button\n    };\n  }\n  componentDidMount() {\n    const { isScriptLoaded, isScriptLoadSucceed } = this.props;\n    if (isScriptLoaded && isScriptLoadSucceed) {\n      this.setState({ showButton: true });\n    }\n  }\n  componentWillReceiveProps({ isScriptLoaded, isScriptLoadSucceed }) {\n    if (!this.state.show) {\n      if (isScriptLoaded && !this.props.isScriptLoaded) {\n        if (isScriptLoadSucceed) {\n          this.setState({ showButton: true });\n        } else {\n          console.log('Cannot load Paypal script!');\n          this.props.onError();\n        }\n      }\n    }\n  }\n \n  render() {\n    const payment = () => paypal.rest.payment.create(this.props.env, this.props.client, {\n      transactions: [\n                    { amount: { total: this.props.total, currency: this.props.currency } },\n      ],\n    });\n \n    const onAuthorize = (data, actions) => actions.payment.execute().then(() => {\n      const payment = Object.assign({}, this.props.payment);\n      payment.paid = true;\n      payment.cancelled = false;\n      payment.payerID = data.payerID;\n      payment.paymentID = data.paymentID;\n      payment.paymentToken = data.paymentToken;\n      payment.returnUrl = data.returnUrl;\n      this.props.onSuccess(payment);\n    });\n \n    let ppbtn = '';\n    if (this.state.showButton) {\n      ppbtn = (<paypal.Button.react\n        env={this.state.env}\n        client={this.state.client}\n        payment={payment}\n        commit\n        onAuthorize={onAuthorize}\n        onCancel={this.props.onCancel}\n      />);\n    }\n    return <div>{ppbtn}</div>;\n  }\n}\n \nPaypalButton.propTypes = {\n  currency: PropTypes.string.isRequired,\n  total: PropTypes.number.isRequired,\n  client: PropTypes.object.isRequired,\n};\n \nPaypalButton.defaultProps = {\n  env: 'sandbox',\n  onSuccess: (payment) => {\n    console.log('The payment was succeeded!', payment);\n  },\n  onCancel: (data) => {\n    console.log('The payment was cancelled!', data);\n  },\n  onError: (err) => {\n    console.log('Error loading Paypal script!', err);\n  },\n};\n//   constructor() {  \n//     super();\n//     this.state= {\n//       name: '',\n//     //   email: '',\n//     //   password: '',\n//     //   password2: '',  \n//     //   errors: {}\n//     };\n//     this.onChange = this.onChange.bind(this);\n//     this.onSubmit = this.onSubmit.bind(this);\n//   }\n//   componentWillReceiveProps(nextProps){\n//     if(nextProps.errors){\n//       this.setState({errors: nextProps.errors})\n//     }\n//   }\n//   onSubmit(e){\n//     e.preventDefault();\n//     const userPay = {\n//       name: this.state.name,      \n//     }; \n//     console.log(userPay); \n//     this.props.userPayments(userPay, this.props.history);\n   \n//     }\n//   onChange(e){\n//     this.setState({ [e.target.name]: e.target.value});\n//   }\n//   render(){\n//     const { errors } = this.state;\n\n//     return (\n//       <div>\n//       <div className=\"container-fluid\">\n//           <div className=\"banner-section\">\n//               <div className=\"banner-title\">\n//                   <h1>Now, You can pay</h1>\n//               </div>\n//           </div>\n\n//       </div>\n//       <form>\n//       <TextFieldGroup\n//             placeholder=\"Name\"\n//             name=\"name\"\n//             type=\"name\"\n//             value={this.state.name}\n//             onChange={this.onChange}\n//             // error={errors.name}\n//             />\n//             <input type=\"submit\" className=\"btn btn-info\" />\n//       </form>\n      \n//       </div>\n//     );\n//   }\n// } \n// Payments.propTypes = {\n//   userPayments: PropTypes.func.isRequired,\n//   auth: PropTypes.object.isRequired,\n//   errors: PropTypes.object.isRequired\n// };\n\n// const mapStateToProps = state => ({\n//   auth: state.auth,\n//   errors: state.errors\n// })\n\nexport default scriptLoader('https://www.paypalobjects.com/api/checkout.js')(Payments);\n// export default connect(mapStateToProps, {userPayments})(withRouter(Payments));\n\n// import React, { Component } from 'react';\n\n// import StripeCheckout from 'react-stripe-checkout';\n// import { userInfo } from 'os';\n// import { logoutUser } from '../../actions/authAction';\n// import { clearCurrentProfile } from '../../actions/profileActions';\n// import PayImage  from '../../assets/image/btn_buynowCC_LG.gif';\n\n// class Payments extends Component {\n//     render() {\n       \n//         return(\n//             <div>\n            \n//                 <form>\n                    \n//                     <div className=\"btn\"><img src={PayImage} alt=\"paypal payment method\" /></div>\n//                 </form>\n//             </div>\n//         //     <StripeCheckout\n//         //         name=\"Vivek\"\n//         //         description=\"You can pay now\"\n//         //         amount={500}\n//         //         token={token => console.log(token)}\n//         //         stripeKey={process.env.REACT_APP_STRIPE_KEY}\n//         //     >\n//         //    <a herf=\"/success\"> <div className=\"btn  btn-info mt-4\">Buy by Card</div> </a> \n//         //     </StripeCheckout>\n//         )\n//     }\n// }\n// export default Payments;"]},"metadata":{},"sourceType":"module"}